---
title: HTTP协议基础
date: 2019-03-15 18:45:25
tags:
- HTTP
- 网络
categories:
- 网络
---

### HTTP简介 
HTTP协议是Hyper Text Transfer Protocol（超文本传输协议）的缩写。HTTP协议工作于客户端-服务端架构之上。浏览器作为HTTP客户端通过URL向HTTP服务端即WEB服务器发送所有请求。Web服务器在接收到的请求后，向客户端发送响应信息。 
<!-- more -->

### HTTP特点 
- 无连接：无连接的含义是限制每次连接只处理一个请求。服务器处理完客户的请求，并收到客户的应答后，即断开连接。采用这种方式可以节省传输时间。 
- 无状态：HTTP协议是无状态协议。无状态是指协议对于事务处理没有记忆能力。缺少状态意味着如果后续处理需要前面的信息，则它必须**重传**，这样可能导致每次连接传送的数据量增大。另一方面，在服务器不需要先前信息时它的应答就较快。 
- 简单快速：客户向服务器请求服务时，只需传送请求方法和路径。
- 灵活：HTTP允许传输**任意类型**的数据对象。传输的类型由*Content-Type*加以标记。
### 常用的请求方法
- GET: 向指定的资源请求数据。
- POST: 向指定资源提交数据进行处理请求（例如提交表单或者上传文件）。数据被包含在请求体中。POST请求可能会导致新的资源的建立和或已有资源的修改。
- HEAD: 类似于get请求，只不过返回的响应中没有具体的内容，用于获取报头
- PUT: 从客户端向服务器传送的数据取代指定的文档的内容。
- DELETE: 请求服务器删除指定的页面。


post和get的区别：都包含请求头请求行，post相比之下多了请求body。get多用来查询，请求参数放在url中，不会对服务器上的内容产生作用。post用来提交，如把账号密码放入body中。GET是直接添加到URL后面的，直接就可以在URL中看到内容，而POST是放在报文内部的，用户无法直接看到。GET提交的数据长度是有限制的，因为URL长度有限制，具体的长度限制视浏览器而定。而POST没有。

### 报文构成

##### 请求报文构成
http请求由**请求行**（request line）、**请求头部**（header）、**空行**和**请求数据**构成。
**请求行**以请求方法开头，后面跟着请求的**URL**和**协议的版本**，均以空格分开。

##### 响应报文构成
HTTP响应也由**状态行**、**消息报头**、**空行**和**响应正文**构成。
![http响应](http://www.runoob.com/wp-content/uploads/2013/11/2012072810301161.png) 

###  状态码
响应状态码：访问一个网页时，浏览器会向web服务器发出请求。此网页所在的服务器会返回一个包含HTTP状态码的信息头用以响应浏览器的请求。

##### 状态码分类
以下是状态码的分类。
```xml
1XX- 信息型，服务器收到请求，需要请求者继续操作。
2XX- 成功型，请求成功收到，理解并处理。
3XX - 重定向，需要进一步的操作以完成请求。
4XX - 客户端错误，请求包含语法错误或无法完成请求。
5XX - 服务器错误，服务器在处理请求的过程中发生了错误。
```

##### 常见状态码
```xml
200 - OK  客户端请求成功
301 - 资源（网页等）被永久转移到其它URL
302 - 临时跳转
400 Bad Request - 客户端请求有语法错误，不能被服务器所理解
401 Unauthorized - 请求未经授权，这个状态代码必须和WWW-Authenticate报头域一起使用
404 - 请求资源不存在，可能是输入了错误的URL
500 - 服务器内部发生了不可预期的错误
503 Server Unavailable - 服务器当前不能处理客户端的请求，一段时间后可能恢复正常。
```

###  客户端浏览器如何解析HTML内容
客户端浏览器首先解析状态行，查看表明请求是否成功的状态代码。然后解析每一个响应头，响应头告知以下为若干字节的HTML文档和文档的字符集。客户端浏览器读取响应数据HTML，根据HTML的语法对其进行格式化，并在浏览器窗口中显示。 
例如：在浏览器地址栏键入URL，按下回车之后会经历以下流程： 
1、浏览器向 DNS 服务器请求解析该 URL 中的域名所对应的 IP 地址; 
2、解析出 IP 地址后，若有端口号则解析出端口号，无则根据该 IP 地址和默认端口 80，和服务器建立TCP连接; 
3、浏览器发出读取文件(URL 中域名后面部分对应的文件)的HTTP 请求，该请求报文作为 TCP 三次握手的第三个报文的数据发送给服务器; 
4、服务器对浏览器请求作出响应，并把对应的 html 文本发送给浏览器; 
5、释放 TCP连接; 
6、浏览器将该 html 文本并显示内容。

### 几个概念
**DNS**
域名解析服务。将主机名转换为IP地址。
**端口号** 
http://localhost:8080 8080就是端口号。HTTP的URL中没有端口号时，可以假设默认端口号时80。有了IP地址和端口号，客户端就可以很方便地通过TCP/IP进行通信了。
**代理** 
代理是位于客户端和服务器之间的HTTP中间实体。接收所有客户端的HTTP请求，并将这些请求转发给服务器（可能会对请求进行修改之后转发）。
**缓存**
缓存HTTP的仓库，使常用页面的副本可以保存在离客户端更近的地方。
**隧道** 
隧道是建立起来之后，就会在两条连接之间对原始数据进行盲转发的HTTP应用程序。常见用途是通过HTTP连接承载加密的安全套接字层（SSL）流量，这样SSL流量就可以穿过只允许Web流量通过的防火墙了。

### HTTP和HTTPS的区别
HTTPS：是以安全为目标的HTTP通道，简单讲是HTTP的安全版，即HTTP下加入SSL层，HTTPS的安全基础是SSL，因此加密的详细内容就需要SSL。 
HTTPS协议的主要作用可以分为两种：一种是建立一个信息安全通道，来保证数据传输的安全；另一种就是确认网站的真实性。  
HTTPS和HTTP的区别主要如下： 
1、https协议需要到ca申请证书，一般免费证书较少，因而需要一定费用。 
2、http是超文本传输协议，信息是明文传输，https则是具有安全性的ssl加密传输协议。 
3、http和https使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443。 
4、http的连接很简单，是无状态的；HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，比http协议安全。

参考文章：
[https://blog.csdn.net/weixin_41835916/article/details/81590826](https://blog.csdn.net/weixin_41835916/article/details/81590826) 